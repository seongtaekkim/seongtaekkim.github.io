
## 작업내용
- EKS 버전 업그레이드 (1.31 -> 1.33)
- EKS Node OS 업그레이드 (AL2 -> AL2023)
	- 노드그룹 재 생성
- 인프라 노드그룹 scale in (2 -> 1)
	- gitlab, jenkins replicas 0

### Step 0 사전작업 및 작업 중 확인사항
- 노드그룹 생성
- kafka replica 0 설정
- 업그레이드 시 budget 걸리면 해당 pod restart 적용

### Step1
#### 노드그룹 scale in
- gitlab, jenkins replica 0 설정
- 콘솔에서 노드 scale in 설정
- 노드 메모리 확인

### Step2
#### OS 업그레이드
- 노드그룹 생성 (AL2023) (사전에 생성)
- node drain & cordon
- 기존 노드 (AL2) Scale in 0

#### control plane 업그레이드
- 1.31 ->  1.32
- 1.32 -> 1.33

#### Worker Node 업그레이드
- 1.31 -> 1.33

#### add on 업데이트
- latest 로 업데이트

### Step 4
- kafka replica 1 설정


### 확인사항

- pod 구동 확인
- node ssh 접속 확인
- 웹서비스 접속 확인
- NPKI 생성 확인 (없으면 npki 데몬 재실행)
- 데이터독 EKS 정상 관제 확인
- PV, PVC 확인
- 카프카 동작 확인
- uptime 동작 확인 (pv)
- 인프라 노드 메모리 사용량 확인.


